# vim: filetype=sh

setopt prompt_subst

git_project() {
  local root
  local branch

  root=$(git rev-parse --show-toplevel 2>/dev/null) || return
  branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null) || return

  echo "  ${root:t} | ${branch} "
}

PROMPT='
%F{$color0}%K{$color1} %? %K{$color2} %n %K{$color3}$(git_project)%k
%F{$color2}❯ %f'

export VIRTUAL_ENV_DISABLE_PROMPT=1
export PROMPT=${PROMPT}
